% ----------------------------------------------------------------------
%  Notes to myself.  The margin flags are broken, thanks to an
%  incompatibility with the geometry package.
% ----------------------------------------------------------------------
\def\n@te#1{\textsf{\boldmath \textbf{$\langle\!\langle$#1$\rangle\!\rangle$}}\leavevmode}
\def\note#1{\textcolor{red}{\n@te{#1}}}

%----------------------------------------------------------------------
%  TODO sets enclosed text in a gray rectangle with a red border
%  with small sans-serif text.
%----------------------------------------------------------------------
\definecolor{TODOcolor}{cmyk}{0.05,0,0,0}
\definecolor{TODOtxtcolor}{cmyk}{0,1,1,0}

\newenvironment{TODO}
   {\fboxrule1.5pt\begin{center}
     \marginpar{\LARGE\color{Red}$\bigstar\bigstar\bigstar$}
    {\leavevmode
     \begin{lrbox}{\@tempboxb}
     \begin{minipage}{0.9\columnwidth}
     \small\sffamily\parindent1.5em\color{TODOtxtcolor}} }
   {\end{minipage}
    \end{lrbox}
    \fcolorbox{TODOtxtcolor}{TODOcolor}{\usebox{\@tempboxb}}\end{center}}